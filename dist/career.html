<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>军旅生涯</title>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <link rel="shortcut icon" href="/favicon.ico">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">
  <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css">
</head>
<body>
<div class="page-group">
  <div class="page page-current">
    <div class="content" style="margin-bottom: 2.6rem;">
      <div class="row">
        <div class="col-100">
          <div class="card">
            <div class="card-content">
              <div class="card-content-inner">
                <img src="img/005.jpg" width="325" height="160">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row" style="padding: 0 .5rem 0 1.3rem;">
        <input type="file" name="upload-image">
      </div>
      <div class="row">
        <div class="col-100">
          <div class="card">
            <div class="card-content">
              <div class="card-content-inner" style="padding: 0;">
                <table width="100%">
                  <tr>
                    <td width="85%"><img src="img/005.jpg" height="120" width="100%"></td>
                    <td width="15%" style="background-color: #888; color: #fff; text-align: center;" class="btn-delete">删除</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-100">
          <div class="card">
            <div class="card-content">
              <div class="card-content-inner" style="padding: 0;">
                <table width="100%">
                  <tr>
                    <td width="85%"><img src="img/005.jpg" height="120" width="100%"></td>
                    <td width="15%" style="background-color: #888; color: #fff; text-align: center;" class="btn-delete">删除</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-100">
          <div class="card">
            <div class="card-content">
              <div class="card-content-inner" style="padding: 0;">
                <table width="100%">
                  <tr>
                    <td width="85%"><img src="img/005.jpg" height="120" width="100%"></td>
                    <td width="15%" style="background-color: #888; color: #fff; text-align: center;" class="btn-delete">删除</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-100">
          <div class="card">
            <div class="card-content">
              <div class="card-content-inner" style="padding: 0;">
                <table width="100%">
                  <tr>
                    <td width="85%"><img src="img/005.jpg" height="120" width="100%"></td>
                    <td width="15%" style="background-color: #888; color: #fff; text-align: center;" class="btn-delete">删除</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-100">
          <div class="card">
            <div class="card-content">
              <div class="card-content-inner" style="padding: 0;">
                <table width="100%">
                  <tr>
                    <td width="85%"><img src="img/005.jpg" height="120" width="100%"></td>
                    <td width="15%" style="background-color: #888; color: #fff; text-align: center;" class="btn-delete">删除</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-100">
          <div class="card">
            <div class="card-content">
              <div class="card-content-inner" style="padding: 0;">
                <table width="100%">
                  <tr>
                    <td width="85%"><img src="img/005.jpg" height="120" width="100%"></td>
                    <td width="15%" style="background-color: #888; color: #fff; text-align: center;" class="btn-delete">删除</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <nav class="bar bar-tab">
      <a class="tab-item external active" href="#" id="nav-ph">排行</a>
      <a class="tab-item external" href="#" id="nav-fq">发起</a>
      <a class="tab-item external" href="#" id="nav-jl">军旅</a>
    </nav>
  </div>
</div>
<script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'></script>
<script>
  //API 地址
  const soldierUrl = 'http://www.szsjunshi.com/soldier';

  /**
   * 获取链接参数
   */
  const params = (() => {
    var query = location.search.substr(1)
    query = query.split('&')
    var params = {}
    for (let i = 0; i < query.length; i++) {
      let q = query[i].split('=')
      if (q.length === 2) {
        params[q[0]] = q[1]
      }
    }
    return params;
  })();

  /**
   * 异步请求
   * @param url
   * @param headers
   * @returns {IterableIterator<*>}
   */
  function* gen(url, headers = {}) {
    return yield fetch(url, headers);
  }

  /**
   * 请求链接
   * @param url
   * @param callback
   * @param headers
   * @returns {IterableIterator<*>}
   */
  const query = (url, callback, headers = {}) => {
    let g = gen(url, headers);
    let result = g.next();

    result.value.then(function(data){
      data.json().then(callback, error => { throw error; });
    }).then(function(data){
      g.next(data);
    });
  }

  /************************************* 业务代码 *************************************/

  //导航路由
  $('#nav-ph').attr('href', `ranking.html?token=${params.token}`);
  $('#nav-fq').attr('href', `index.html?token=${params.token}`);
  $('#nav-jl').attr('href', `career.html?token=${params.token}`);

  $('.btn-delete').on('click', function () {
    alert('aa');
  });
</script>
</body>
</html>
